<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zappy Project: inventory.InventoryManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Zappy Project<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">Complete Zappy ecosystem: Server, AI Client &amp; GUI - EPITECH 2025</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classinventory_1_1InventoryManager.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a>  </div>
  <div class="headertitle"><div class="title">inventory.InventoryManager Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a4cf9f394d3d2c5a92226c1aa45035c4b" id="r_a4cf9f394d3d2c5a92226c1aa45035c4b"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4cf9f394d3d2c5a92226c1aa45035c4b">get_inventory</a> (<a class="el" href="classmodels_1_1Player.html">Player</a> player)</td></tr>
<tr class="separator:a4cf9f394d3d2c5a92226c1aa45035c4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5e98cf1eba07ebf4854b09aa3b2046c" id="r_aa5e98cf1eba07ebf4854b09aa3b2046c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa5e98cf1eba07ebf4854b09aa3b2046c">get_resource_count</a> (<a class="el" href="classmodels_1_1Player.html">Player</a> player, str resource)</td></tr>
<tr class="separator:aa5e98cf1eba07ebf4854b09aa3b2046c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Static class providing inventory management services for Zappy AI.

This class handles all inventory-related operations including querying,
parsing, and resource counting. It abstracts the complexity of inventory
data format and provides a clean interface for other AI modules.

The inventory system in Zappy uses a text-based format that requires
careful parsing to extract resource names and quantities. This class
implements robust parsing logic that handles various edge cases and
provides graceful error recovery.

Inventory Format:
Server returns inventory as bracketed string with comma-separated
resource entries. Each entry contains resource name followed by count.
Example: "[food 10, linemate 3, deraumere 1]"

Error Handling:
- Malformed responses are handled gracefully
- Network errors result in safe fallback values
- Invalid parsing attempts return empty inventories
</pre> 
<p class="definition">Definition at line <a class="el" href="inventory_8py_source.html#l00034">34</a> of file <a class="el" href="inventory_8py_source.html">inventory.py</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a4cf9f394d3d2c5a92226c1aa45035c4b" name="a4cf9f394d3d2c5a92226c1aa45035c4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cf9f394d3d2c5a92226c1aa45035c4b">&#9670;&#160;</a></span>get_inventory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> dict inventory.InventoryManager.get_inventory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmodels_1_1Player.html">Player</a></td>          <td class="paramname"><span class="paramname"><em>player</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Retrieve and parse complete player inventory from server.

Executes the Inventory command and parses the server response into
a dictionary mapping resource names to quantities. Implements robust
parsing logic to handle various response formats and edge cases.

Parsing algorithm:
1. Send Inventory command to server
2. Strip brackets and split by commas
3. Parse each item to extract resource name and count
4. Handle multiple word resource names
5. Convert counts to integers with error handling

Response format handling:
- Bracketed lists: "[food 10, linemate 3]"
- Empty inventories: "[]" or empty strings
- Malformed entries: gracefully skipped
- Mixed formats: adaptive parsing approach

Error recovery:
- Network errors: return default food inventory
- Parse errors: return empty inventory
- Invalid responses: graceful degradation

Args:
    player (Player): Player to retrieve inventory for
    
Returns:
    dict: Dictionary mapping resource names to quantities
         {"food": 10, "linemate": 3, "deraumere": 1}
         Returns {"food": 10} on network errors for safety
</pre> 
<p class="definition">Definition at line <a class="el" href="inventory_8py_source.html#l00058">58</a> of file <a class="el" href="inventory_8py_source.html">inventory.py</a>.</p>

</div>
</div>
<a id="aa5e98cf1eba07ebf4854b09aa3b2046c" name="aa5e98cf1eba07ebf4854b09aa3b2046c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5e98cf1eba07ebf4854b09aa3b2046c">&#9670;&#160;</a></span>get_resource_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> int inventory.InventoryManager.get_resource_count </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmodels_1_1Player.html">Player</a></td>          <td class="paramname"><span class="paramname"><em>player</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>resource</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Get count of specific resource in player's inventory.

Convenience method that retrieves the full inventory and returns
the count for a specific resource. Provides a simple interface
for resource availability checking throughout the AI system.

Uses get_inventory() internally, inheriting all its error handling
and parsing robustness. Returns 0 for missing resources rather
than raising exceptions.

Args:
    player (Player): Player to check resource count for
    resource (str): Name of resource to count (e.g., "food", "linemate")
    
Returns:
    int: Count of specified resource, 0 if not present or errors occur
</pre> 
<p class="definition">Definition at line <a class="el" href="inventory_8py_source.html#l00121">121</a> of file <a class="el" href="inventory_8py_source.html">inventory.py</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>ai/<a class="el" href="inventory_8py_source.html">inventory.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceinventory.html">inventory</a></li><li class="navelem"><a class="el" href="classinventory_1_1InventoryManager.html">InventoryManager</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
